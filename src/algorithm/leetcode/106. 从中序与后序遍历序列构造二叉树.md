---
date: 2025-10-13
author: Gaaming Zhang
isOriginal: true
article: false
category: leetcode
tag:
  - leetcode
---

# 106. 从中序与后序遍历序列构造二叉树

给定两个整数数组 inorder 和 postorder ，其中 inorder 是二叉树的中序遍历， postorder 是同一棵树
 的后序遍历，请你构造并返回这颗 二叉树 。

示例 1:
输入：inorder = [9,3,15,20,7], postorder = [9,15,7,20,3]
输出：[3,9,20,null,null,15,7]

示例 2:
输入：inorder = [-1], postorder = [-1]
输出：[-1]

```cpp
class Solution {
public:
    TreeNode* buildTree(vector<int>& inorder, vector<int>& postorder) {
        return buildTree(postorder, 0, postorder.size() - 1, inorder, 0, inorder.size() - 1);
    }

    TreeNode* buildTree(vector<int>& postorder, int postorderStart, int postorderEnd,
        vector<int>& inorder, int inorderStart, int inorderEnd) {
        if (postorderStart > postorderEnd || inorderStart > inorderEnd) {
            return nullptr;
        }
        int targetValue = postorder[postorderEnd];
        int inorderIndex = inorderStart;
        while (inorder[inorderIndex] != targetValue) {
            ++inorderIndex;
        }
        TreeNode* targetNode = new TreeNode(targetValue);
        targetNode->left = buildTree(postorder,
            postorderStart,
            postorderStart + inorderIndex - inorderStart - 1,
            inorder,
            inorderStart,
            inorderIndex - 1);
        targetNode->right = buildTree(postorder,
            postorderStart + inorderIndex - inorderStart,
            postorderEnd - 1,
            inorder,
            inorderIndex + 1,
            inorderEnd);
        return targetNode;
    }
};
```
