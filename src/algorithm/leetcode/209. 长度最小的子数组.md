---
date: 2025-08-14
author: Gaaming Zhang
isOriginal: true
article: true
category: leetcode
tag:
  - leetcode
  - 双指针
---

# 209. 长度最小的子数组

给定一个含有 n 个正整数的数组和一个正整数 target 。
找出该数组中满足其总和大于等于 target 的长度最小的 子数组 [numsl, numsl+1, ..., numsr-1, numsr] ，并返回其长度。如果不存在符合条件的子数组，返回 0 。

示例 1：
输入：target = 7, nums = [2,3,1,2,4,3]
输出：2
解释：子数组 [4,3] 是该条件下的长度最小的子数组。

示例 2：
输入：target = 4, nums = [1,4,4]
输出：1

示例 3：
输入：target = 11, nums = [1,1,1,1,1,1,1,1]
输出：0

## 解题思路

这道题需要找到和大于等于 target 的最短子数组。

### 滑动窗口

使用滑动窗口（双指针）解决：

1. 右指针扩展窗口，直到和 >= target
2. 左指针收缩窗口，更新最短长度
3. 重复以上步骤

### 核心思想

由于数组元素都是正整数，可以使用滑动窗口：
- 扩展右边界：增加窗口和
- 收缩左边界：减少窗口和，同时寻找更短的子数组

### 算法流程

1. 初始化左指针和窗口和
2. 右指针遍历数组，累加窗口和
3. 当窗口和 >= target 时：
   - 更新最短长度
   - 收缩左指针，尝试找到更短的子数组
4. 返回最短长度（如果未找到返回 0）

### 示例分析

`target = 7, nums = [2,3,1,2,4,3]`：
- [2,3,1,2] 和=8 >= 7，长度=4，收缩
- [3,1,2] 和=6 < 7，扩展
- [3,1,2,4] 和=10 >= 7，长度=4，收缩
- [1,2,4] 和=7 >= 7，长度=3，收缩
- [2,4] 和=6 < 7，扩展
- [2,4,3] 和=9 >= 7，长度=3，收缩
- [4,3] 和=7 >= 7，长度=2，收缩
- 结果：2

## 代码实现

```cpp
class Solution {
public:
    int minSubArrayLen(int target, vector<int>& nums) {
        int sum = 0;           // 当前窗口和
        int res = INT_MAX;     // 最短长度
        int left = 0;          // 左指针
        
        // 右指针遍历数组
        for (int right = 0; right < nums.size(); ++right) {
            sum += nums[right];  // 扩展右边界
            
            // 当窗口和 >= target 时，收缩左边界
            while (sum >= target) {
                // 更新最短长度
                res = min(res, right - left + 1);
                // 收缩左边界
                sum -= nums[left];
                ++left;
            }
        }
        
        // 如果未找到，返回 0
        return res == INT_MAX ? 0 : res;
    }
};
```

## 复杂度分析

- **时间复杂度**：O(n)，其中 n 是数组长度。每个元素最多被访问两次（进入窗口和离开窗口）。
- **空间复杂度**：O(1)，只使用了常数级别的额外空间。

## 总结

本题使用**滑动窗口**解决最小子数组长度问题。关键在于：

1. **双指针**：左右指针维护窗口
2. **扩展收缩**：右指针扩展，左指针收缩
3. **正整数特性**：保证滑动窗口正确性

这道题是滑动窗口的经典应用，理解窗口扩展和收缩的时机是解题关键。
