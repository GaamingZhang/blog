---
date: 2025-07-01
author: Gaaming Zhang
isOriginal: false
article: true
category:
  - 操作系统
tag:
  - 操作系统
---

# 硬盘有问题怎么排查

## 核心排查思路

硬盘问题通常分为两类：

### 硬件故障类型
- **物理损坏**：机械硬盘的磁头损坏、盘片划伤、电机故障
- **电路故障**：接口电路损坏、控制芯片故障、电源问题
- **坏道问题**：物理坏道（无法修复）、逻辑坏道（可修复）
- **连接问题**：SATA/SAS线缆松动、接口氧化、RAID控制器故障

### 软件问题类型
- **文件系统损坏**：超级块损坏、inode损坏、日志损坏
- **I/O 性能问题**：高IOPS负载、随机读写瓶颈、缓存失效
- **空间问题**：磁盘空间耗尽、inode耗尽
- **权限与挂载问题**：权限错误、挂载选项错误、UUID不匹配

### 排查原则与顺序
遵循"**从易到难、从软件到硬件**"的原则，按以下顺序逐层深入：
1. **空间检查**：排除最常见的空间满问题
2. **性能检查**：定位高I/O进程和性能瓶颈
3. **健康度检查**：通过SMART判断硬件状态
4. **文件系统检查**：修复文件系统错误
5. **日志分析**：从系统日志中寻找根本原因

---

## 第一步：检查磁盘空间

```bash
# 查看分区使用情况
df -h

# 找出占用大目录（从根目录开始）
du -sh /* | sort -rh | head -10
du -sh /var/* | sort -rh | head -10

# 找出大文件（> 1GB）
find / -type f -size +1G -exec ls -lh {} \; 2>/dev/null

# 查看 inode 使用（文件数量限制）
df -i
```

**常见问题**：
- 空间满导致无法写入：清理日志 `/var/log`、临时文件 `/tmp`、缓存。
- inode 耗尽：大量小文件导致，即使空间足够也无法创建文件。

---

## 第二步：检查磁盘性能

### 1. 基础性能监控

```bash
# 查看磁盘 I/O 统计（每秒采样一次，共5次）
iostat -x 1 5
```

**关键指标详解**：
| 指标 | 含义 | 正常范围 | 异常阈值 |
|------|------|----------|----------|
| %util | 磁盘利用率 | < 70% | > 80%（接近饱和） |
| await | 平均I/O等待时间（ms） | < 10ms | > 100ms（响应慢） |
| svctm | 平均服务时间（ms） | < 5ms | > 20ms（硬件问题） |
| r/s, w/s | 每秒读写次数 | - | 根据磁盘类型不同 |
| rkB/s, wkB/s | 每秒读写字节数 | - | 根据磁盘带宽不同 |
| avgqu-sz | 平均队列长度 | < 1 | > 5（队列堆积） |

### 2. 实时进程 I/O 监控

```bash
# 实时查看 I/O 使用率最高的进程
iotop -o  # 只显示有 I/O 活动的进程
iotop -P  # 显示进程而非线程
iotop -a  # 累计显示 I/O 大小

# 使用 pidstat 查看进程 I/O 统计
pidstat -d 1 5  # 每秒采样，共5次
```

### 3. 磁盘读写速度测试

```bash
# 方法1：使用 hdparm 测试读取速度（非破坏性）
hdparm -Tt /dev/sda
# -T：测试缓存读取速度
# -t：测试磁盘顺序读取速度

# 方法2：使用 dd 测试顺序写入速度（破坏性）
dd if=/dev/zero of=/tmp/test_dd bs=1M count=1024 oflag=direct status=progress
rm -f /tmp/test_dd

# 方法3：使用 fio 进行全面性能测试（专业工具）
# 安装：apt install fio 或 yum install fio
# 测试顺序读取
fio --name=seq_read --ioengine=libaio --direct=1 --rw=read --bs=1M --size=10G --numjobs=1 --runtime=30 --group_reporting
# 测试随机写入
fio --name=rand_write --ioengine=libaio --direct=1 --rw=randwrite --bs=4k --size=5G --numjobs=4 --runtime=30 --group_reporting
```

### 4. 性能问题判断与分析

| 现象 | 可能原因 | 解决方案 |
|------|----------|----------|
| 高 %util + 高 await | 磁盘过载或硬件故障 | 优化应用、增加磁盘、更换故障盘 |
| 高 r/s 或 w/s 但低吞吐 | 大量小 I/O，随机访问 | 优化应用 I/O 模式、使用 SSD |
| 低吞吐 + 低 IOPS | 机械硬盘或硬件故障 | 更换为 SSD、检查硬件状态 |
| 高 avgqu-sz + 低 %util | I/O 调度问题 | 调整 I/O 调度器（noop/deadline） |
| 服务时间波动大 | 坏道或硬件不稳定 | 检查 SMART 信息 |

---

## 第三步：检查硬件健康度

### 1. SMART 信息分析

SMART（Self-Monitoring, Analysis and Reporting Technology）是硬盘的自监控系统，提供硬件健康状态信息。

```bash
# 安装 smartmontools
sudo apt install smartmontools  # Debian/Ubuntu
sudo yum install smartmontools  # CentOS/RHEL

# 查看完整 SMART 信息
sudo smartctl -a /dev/sda
```

### 2. 关键 SMART 指标分类

#### 健康状态指标
| 指标 | 含义 | 正常范围 | 危险阈值 |
|------|------|----------|----------|
| Reallocated_Sector_Ct | 重新分配扇区数（物理坏道） | 0 | > 0（已开始损坏） |
| Current_Pending_Sector | 待处理扇区数（不稳定扇区） | 0 | > 0（即将成为坏道） |
| Offline_Uncorrectable | 不可修复扇区数 | 0 | > 0（严重损坏） |
| Raw_Read_Error_Rate | 原始读取错误率 | 接近 0 | 数值较大 |
| Seek_Error_Rate | 寻道错误率 | 接近 0 | 数值较大 |

#### 性能指标
| 指标 | 含义 | 正常范围 | 异常表现 |
|------|------|----------|----------|
| Temperature_Celsius | 硬盘温度 | 20-40°C | > 50°C（过热） |
| Power_On_Hours | 通电小时数 | - | > 50,000小时（寿命即将结束） |
| Power_Cycle_Count | 通电次数 | - | > 10,000次（机械疲劳） |
| Spin_Retry_Count | 磁头重试次数 | 0 | > 0（电机问题） |

#### 传输错误指标
| 指标 | 含义 | 正常范围 | 异常原因 |
|------|------|----------|----------|
| UDMA_CRC_Error_Count | UDMA CRC 错误数 | 0 | 线缆损坏、接口松动、电源不稳定 |
| Interface_CRC_Error_Count | 接口 CRC 错误数 | 0 | 同上 |

### 3. SMART 自检与测试

```bash
# 短时间自测（2-5分钟，检查基本功能）
sudo smartctl -t short /dev/sda

# 长时间自测（1-2小时，全面检查所有扇区）
sudo smartctl -t long /dev/sda

# 后台离线测试（不影响正常使用，检查所有扇区）
sudo smartctl -t offline /dev/sda

# 立即查看测试结果
sudo smartctl -l selftest /dev/sda

# 查看错误日志
sudo smartctl -l error /dev/sda
```

### 4. 其他硬件检查方法

```bash
# 查看内核日志中的硬盘错误
dmesg | grep -i "sda\|ata\|scsi\|error\|fail"
journalctl -k --since "1 hour ago" | grep -i "I/O error"

# 检查 SATA/SAS 接口状态
sudo dmesg | grep -i "ata.*link"

# 检查磁盘连接状态
lsblk -o NAME,MODEL,SERIAL,SIZE,TYPE,STATE
```

### 5. RAID 环境下的硬盘检查

```bash
# 查看 RAID 控制器状态（LSI MegaRAID 示例）
sudo storcli /c0 show

# 查看 RAID 磁盘状态
sudo storcli /c0/eall/sall show

# 检查 RAID 重建进度
sudo storcli /c0/eall/sall show rebuild

# 使用 smartctl 检查 RAID 中的物理盘（需指定 RAID 通道）
sudo smartctl -a -d megaraid,0 /dev/sda
```

### 6. 硬件故障判断与处理

| 故障类型 | 识别方法 | 处理措施 |
|----------|----------|----------|
| **物理坏道** | Reallocated_Sector_Ct > 0 | 立即备份数据，准备更换硬盘 |
| **不稳定扇区** | Current_Pending_Sector > 0 | 运行磁盘检查修复，密切观察 |
| **传输错误** | UDMA_CRC_Error_Count 高 | 更换SATA线缆，检查电源 |
| **过热** | Temperature > 50°C | 改善通风，检查风扇 |
| **机械故障** | 异常噪音、Spin_Retry_Count 高 | 立即更换硬盘，避免数据丢失 |
| **RAID 故障** | RAID 降级、重建失败 | 检查硬盘状态，更换故障盘 |

---

## 第四步：检查文件系统

### 1. 文件系统基本信息查看

```bash
# 查看所有挂载的文件系统及其类型
mount

# 查看特定分区的挂载信息
mount | grep /dev/sda1

# 查看所有分区的文件系统类型
lsblk -f
blkid /dev/sda1

# 查看 fstab 中的自动挂载配置
cat /etc/fstab
```

### 2. 文件系统错误检测

```bash
# 检查是否处于只读模式（系统自动保护机制）
mount | grep "ro,"

# 从内核日志中查找文件系统错误
dmesg | grep -i "read-only\|remount\|fsck\|ext4\|xfs\|error"

# 检查 ext4 文件系统错误（只读挂载或卸载时）
sudo fsck -n /dev/sda1  # -n：只检查不修复

# 检查 XFS 文件系统错误（必须卸载）
sudo xfs_repair -n /dev/sda1  # -n：只检查不修复
```

### 3. 文件系统修复

#### ext4/ext3/ext2 文件系统修复

```bash
# 方法1：自动修复（不安全，可能丢失数据）
sudo umount /dev/sda1  # 先卸载
sudo fsck -y /dev/sda1  # -y：自动修复所有错误

# 方法2：交互式修复（安全，可选择性修复）
sudo umount /dev/sda1
sudo fsck /dev/sda1  # 会提示确认每个修复操作

# 方法3：强制修复（损坏严重时使用）
sudo fsck -fy /dev/sda1  # -f：强制检查
```

#### XFS 文件系统修复

```bash
# XFS 修复必须卸载分区
# 方法1：基本修复
sudo umount /dev/sda1
sudo xfs_repair /dev/sda1

# 方法2：深度修复（损坏严重时）
sudo xfs_repair -L /dev/sda1  # -L：清除日志，可能丢失数据

# 方法3：修复包含元数据损坏的 XFS
sudo xfs_repair -m /dev/sda1  # -m：修复元数据
```

#### Btrfs 文件系统修复

```bash
# 检查并修复 Btrfs 文件系统
sudo btrfs check --repair /dev/sda1  # 会清除一些缓存和日志

# 挂载时修复
sudo mount -o recovery /dev/sda1 /mnt
```

### 4. 超级块修复（重要）

```bash
# 查看 ext4 文件系统的备用超级块位置
sudo dumpe2fs /dev/sda1 | grep -i "backup superblock"

# 使用备用超级块修复（假设备用块位置是 32768）
sudo fsck -b 32768 /dev/sda1

# 尝试自动查找备用超级块
sudo e2fsck -f -y -b 0 /dev/sda1
```

### 5. 文件系统问题判断与解决

| 问题类型 | 识别方法 | 解决措施 |
|----------|----------|----------|
| **只读挂载** | mount 显示 ro 选项 | 先 umount，再 fsck 修复 |
| **无法挂载** | mount 命令报错 | 检查文件系统类型，使用正确工具修复 |
| **超级块损坏** | fsck 提示 superblock invalid | 使用备用超级块修复 |
| **inode 损坏** | 目录无法访问，提示 I/O error | fsck 修复或数据恢复 |
| **日志损坏** | 无法挂载，日志错误 | xfs_repair -L 清除日志（XFS）或 fsck 修复（ext4） |

### 6. 数据恢复工具

```bash
# 安装数据恢复工具
sudo apt install testdisk foremost  # Debian/Ubuntu

# 使用 testdisk 恢复分区表
sudo testdisk /dev/sda

# 使用 foremost 恢复文件（基于文件签名）
sudo foremost -t jpg,pdf,doc -i /dev/sda1 -o /recovery
```

---

## 第五步：查看系统日志

### 1. 内核日志（硬件与驱动错误）

```bash
# 查看最新的内核日志（带时间戳）
dmesg -T | tail -200

# 过滤硬盘相关日志
dmesg -T | grep -i "sda\|ata\|scsi\|disk"

# 过滤错误信息
dmesg -T | grep -i "error\|fail\|warn\|bad\|fail"

# 查看特定时间段的日志（需要较新的内核版本）
dmesg -T | grep "2023-10-01"
```

### 2. Systemd 日志（统一日志系统）

```bash
# 查看所有系统日志（最新100行）
journalctl -n 100

# 查看内核日志
journalctl -k

# 查看特定时间段的日志
journalctl --since "1 hour ago" --until "now"

# 查看 fsck 相关日志
journalctl -u systemd-fsck@dev-sda1

# 实时查看新日志
journalctl -f

# 查看硬盘相关错误
journalctl --grep="I/O error\|bad block\|read-only"
```

### 3. 传统 Syslog 日志

```bash
# 查看系统日志
tail -200 /var/log/syslog  # Debian/Ubuntu
tail -200 /var/log/messages  # CentOS/RHEL

# 查看内核日志
tail -200 /var/log/kern.log

# 查看启动日志
tail -200 /var/log/boot.log

# 查找硬盘相关错误
grep -i "sda\|error\|fail" /var/log/syslog
```

### 4. 关键错误日志解析

| 错误信息 | 可能原因 | 解决措施 |
|----------|----------|----------|
| `I/O error, dev sda, sector XXXXX` | 物理坏道或硬件故障 | 检查 SMART 信息，备份数据 |
| `Bad block encountered` | 磁盘坏道 | 使用 badblocks 工具标记坏道 |
| `remounting filesystem read-only` | 文件系统损坏 | 卸载后修复文件系统 |
| `unable to read superblock` | 超级块损坏 | 使用备用超级块修复 |
| `medium error` | 磁盘介质错误 | 更换硬盘 |
| `UDMA CRC error` | 线缆或接口问题 | 更换 SATA 线缆 |
| `No space left on device` | 空间或 inode 满 | 清理文件或删除小文件 |
| `Too many open files` | 文件句柄耗尽 | 增加文件句柄限制或关闭进程 |

### 5. 日志分析工具

```bash
# 使用 grep 与 awk 结合分析日志
# 统计硬盘错误出现次数
dmesg | grep -i "I/O error" | wc -l

# 找出错误发生的时间分布
journalctl --since "1 day ago" | grep "I/O error" | awk '{print $1, $2}' | sort | uniq -c

# 安装专用日志分析工具
sudo apt install logwatch
logwatch --service kernel --range yesterday
```

---

## 快速排查流程总结

```
1. 空间检查
   df -h && df -i
   ↓ 空间/inode 满 → 清理文件
   
2. 性能检查
   iostat -x 2 5
   iotop -o
   ↓ I/O 慢 → 找出高 I/O 进程，优化应用

3. 硬件检查
   smartctl -a /dev/sda
   dmesg | grep sda
   ↓ 坏道/硬件错误 → 备份数据，更换硬盘

4. 文件系统检查
   fsck -n /dev/sda1
   ↓ 文件系统损坏 → 修复或恢复数据

5. 日志确认
   journalctl -xe
   dmesg -T
   ↓ 根据错误信息针对性处理
```

---

## 应急处理措施

### 1. 硬盘只读无法写入

**问题原因**：内核检测到文件系统错误，自动切换为只读模式防止进一步损坏。

```bash
# 1. 确认只读状态
mount | grep "sda1"

# 2. 尝试临时重新挂载为读写模式
mount -o remount,rw /dev/sda1

# 3. 如失败，卸载后进行修复
umount /dev/sda1
fsck -y /dev/sda1  # ext4 文件系统
# 或 xfs_repair /dev/sda1  # XFS 文件系统
mount /dev/sda1

# 4. 如仍失败，检查硬盘健康度
smartctl -a /dev/sda
```

### 2. 磁盘空间紧急清理

```bash
# 1. 快速查看占用最大的目录
# 从根目录开始
for dir in /*; do du -sh "$dir" 2>/dev/null; done | sort -rh | head -10

# 查看特定目录
for dir in /var/*; do du -sh "$dir" 2>/dev/null; done | sort -rh | head -10

# 2. 紧急清理临时文件和日志
rm -rf /tmp/*
rm -rf /var/tmp/*

# 清理旧日志文件（保留7天内的）
find /var/log -name "*.log*" -mtime +7 -delete

# 清理系统dmesg日志
dmesg -c

# 清理systemd日志（保留100MB）
journalctl --vacuum-size=100M

# 3. 清理删除但仍占用空间的文件
lsof | grep deleted > deleted_files.txt
# 手动处理或重启对应进程
kill -HUP $(lsof | grep deleted | awk '{print $2}')
```

### 3. 疑似硬盘故障的紧急处理

```bash
# 1. 立即备份关键数据（优先备份最关键的文件）
# 方法1：使用 rsync（推荐）
rsync -avz --progress --partial /data/ /backup/data/

# 方法2：使用 tar 压缩备份
tar -czf /backup/backup_$(date +%Y%m%d).tar.gz /data/ --ignore-failed-read

# 2. 标记并隔离坏道（ext4文件系统）
badblocks -sv /dev/sda1 > badblocks.txt  # 扫描坏道
fsck -l badblocks.txt /dev/sda1  # 标记坏道

# 3. 禁用故障硬盘（如果有冗余）
# 如果在 RAID 中，标记为失效
sudo storcli /c0/eall/s0 set offline

# 4. 尝试使用 ddrescue 恢复数据
# 安装：apt install gddrescue
ddrescue -n /dev/sda /dev/sdb /media/rescue.log  # 快速扫描
ddrescue -r3 /dev/sda /dev/sdb /media/rescue.log  # 重试3次
```

### 4. 文件系统损坏的紧急恢复

```bash
# 1. 尝试使用备用超级块修复（ext4）
# 首先查找备用超级块
mke2fs -n /dev/sda1 | grep "superblock"
# 使用备用超级块修复
fsck -b 32768 /dev/sda1

# 2. 使用 extundelete 恢复误删文件
# 安装：apt install extundelete
extundelete /dev/sda1 --restore-all

# 3. 使用 testdisk 恢复丢失的分区表
# 安装：apt install testdisk
testdisk /dev/sda
```

### 5. RAID 故障应急处理

```bash
# 1. 查看 RAID 状态（MDADM 软 RAID 示例）
mdadm --detail /dev/md0

# 2. 查看 RAID 磁盘状态
cat /proc/mdstat

# 3. 替换故障磁盘
mdadm --manage /dev/md0 --fail /dev/sdb1
mdadm --manage /dev/md0 --remove /dev/sdb1
mdadm --manage /dev/md0 --add /dev/sdc1

# 4. 查看重建进度
watch -n 5 cat /proc/mdstat

# 5. 检查重建后的 RAID 状态
mdadm --detail /dev/md0
```

---

## 相关高频面试题

**Q1: 如何判断硬盘是机械盘还是固态盘？性能差异？**
```bash
# 判断方法
lsblk -d -o name,rota
# ROTA=1 为机械盘，ROTA=0 为固态盘

cat /sys/block/sda/queue/rotational
# 1=HDD, 0=SSD

# 性能差异：
# HDD：顺序读写快（~150MB/s），随机 IOPS 低（~100）
# SSD：顺序和随机都快（~500MB/s，IOPS 上万）
# NVMe SSD：更快（~3000MB/s，IOPS 几十万）
```

**Q2: inode 满了怎么办？和磁盘空间满有什么区别？**
```bash
# 查看 inode 使用
df -i

# inode 满：大量小文件占用，即使空间充足也无法创建文件
# 磁盘满：存储空间用尽

# 解决 inode 满：
# 1. 删除不需要的小文件
find /tmp -type f -delete
find /var -name "*.log" -mtime +30 -delete

# 2. 压缩合并小文件
tar czf archive.tar.gz small_files/
rm -rf small_files/

# 3. 重建文件系统（增加 inode 数量，需重新格式化）
mkfs.ext4 -N 10000000 /dev/sda1
```

**Q3: 如何查看硬盘的 SMART 信息？哪些指标最重要？**
```bash
# 安装并查看
apt install smartmontools
smartctl -a /dev/sda

# 最重要的指标：
# 1. Reallocated_Sector_Ct（重分配扇区）> 0 → 有坏道
# 2. Current_Pending_Sector（待处理扇区）> 0 → 不稳定扇区
# 3. Offline_Uncorrectable（不可修复扇区）> 0 → 严重损坏
# 4. UDMA_CRC_Error_Count 高 → 传输错误（线缆问题）
# 5. Temperature > 50°C → 过热
# 6. Power_On_Hours → 使用时长

# 任一关键指标异常 → 立即备份，准备更换硬盘
```

**Q4: 磁盘 I/O 很高，如何定位是哪个进程导致的？**
```bash
# 方法 1：iotop（最直观）
iotop -o  # 只显示有 I/O 的进程
iotop -P  # 显示进程而非线程

# 方法 2：pidstat
pidstat -d 2 5  # 每 2 秒采样 5 次，显示磁盘 I/O

# 方法 3：查看进程 I/O 统计
cat /proc/<PID>/io
# 关键字段：
# - read_bytes：读取字节数
# - write_bytes：写入字节数

# 方法 4：系统调用追踪
strace -p <PID> -e trace=read,write -c
```

**Q5: 文件系统变成只读了怎么办？**
```bash
# 原因：内核检测到文件系统错误，自动保护防止进一步损坏

# 步骤 1：确认只读
mount | grep /dev/sda1
# 看到 ro（read-only）

# 步骤 2：查看日志找原因
dmesg | grep -i "read-only\|error"
journalctl -xe

# 步骤 3：尝试重新挂载（可能失败）
mount -o remount,rw /dev/sda1

# 步骤 4：如失败，必须 fsck 修复
# 卸载分区（如果是根分区需进单用户模式或 LiveCD）
umount /dev/sda1
fsck -y /dev/sda1  # 自动修复

# 步骤 5：重新挂载
mount /dev/sda1
```

**Q6: 如何测试硬盘的读写性能？**
```bash
# 方法 1：dd 测试（写入）
dd if=/dev/zero of=/tmp/test bs=1M count=1024 oflag=direct
# 注意：oflag=direct 绕过缓存

# 方法 2：dd 测试（读取）
dd if=/tmp/test of=/dev/null bs=1M iflag=direct

# 方法 3：hdparm（快速）
hdparm -Tt /dev/sda
# -T 测试缓存读取速度
# -t 测试磁盘读取速度

# 方法 4：fio（最专业）
fio --name=randwrite --ioengine=libaio --iodepth=16 --rw=randwrite \
    --bs=4k --direct=1 --size=1G --numjobs=4 --runtime=60 --group_reporting

# 关键指标：
# - 顺序读写：MB/s（HDD ~150, SSD ~500, NVMe ~3000）
# - 随机 IOPS：次数（HDD ~100, SSD ~10k, NVMe ~100k）
```

**Q7: RAID 级别有哪些？常见的 RAID 0、1、5、10 有什么区别？**
```bash
# 查看软件 RAID 状态
mdadm --detail /dev/md0
cat /proc/mdstat

# 查看硬件 RAID 状态（LSI MegaRAID 示例）
storcli /c0 show
storcli /c0/v0 show
```

| RAID 级别 | 最少硬盘数 | 数据冗余 | 读写性能 | 可用空间 | 适用场景 |
|-----------|------------|----------|----------|----------|----------|
| **RAID 0** | 2 | 无 | 最快（N倍） | 100% | 非关键数据、缓存 |
| **RAID 1** | 2 | 镜像 | 读快写一般 | 50% | 系统盘、重要数据 |
| **RAID 5** | 3 | 奇偶校验 | 读快写较慢 | (n-1)/n | 大容量存储、文件服务器 |
| **RAID 10** | 4 | 镜像+条带 | 读写都快 | 50% | 数据库、高性能应用 |
| **RAID 6** | 4 | 双奇偶校验 | 读快写最慢 | (n-2)/n | 数据中心、极高可靠性 |

**特点总结：**
- RAID 0：追求性能，无冗余
- RAID 1：追求可靠性，空间利用率低
- RAID 5：平衡性能、可靠性和空间
- RAID 10：平衡性能和可靠性，成本较高
- RAID 6：最高可靠性，适合关键业务

---

## 故障速查表

| 症状         | 诊断命令      | 可能原因           | 解决方案             |
| ------------ | ------------- | ------------------ | -------------------- |
| 空间满       | `df -h`       | 文件过多、日志堆积 | 清理大文件/日志      |
| inode 满     | `df -i`       | 小文件过多         | 删除小文件或归档     |
| I/O 慢       | `iostat -x`   | 硬件故障、I/O 过载 | 检查 SMART、优化应用 |
| 只读文件系统 | `dmesg`       | 文件系统错误       | fsck 修复            |
| 无法挂载     | `blkid`       | 超级块损坏、类型错 | fsck 或重建文件系统  |
| 坏道         | `smartctl -a` | 硬盘老化           | 备份数据、更换硬盘   |
