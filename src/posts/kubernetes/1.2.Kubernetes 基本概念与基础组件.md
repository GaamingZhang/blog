# Kubernetes 基本概念与基础组件

#### 核心概念

**Pod**
- K8s 最小部署单元，包含一个或多个容器
- 共享网络和存储资源
- 同一 Pod 内容器通过 localhost 通信

**Service**
- 为 Pod 提供稳定的网络访问入口
- 通过标签选择器关联 Pod
- 支持 ClusterIP、NodePort、LoadBalancer 类型

**Deployment**
- 管理无状态应用的部署和更新
- 支持滚动更新和回滚
- 通过 ReplicaSet 控制 Pod 副本数

**Namespace**
- 逻辑隔离资源，实现多租户
- 默认有 default、kube-system、kube-public

**ConfigMap/Secret**
- ConfigMap：存储配置信息
- Secret：存储敏感信息（Base64 编码）

#### 控制平面组件（Master）

**kube-apiserver**
- 集群的统一入口，RESTful API
- 处理和验证所有请求
- 与 etcd 交互存储集群状态

**etcd**
- 分布式 KV 存储
- 保存集群所有配置和状态数据

**kube-scheduler**
- 负责 Pod 调度
- 根据资源需求、亲和性等策略选择节点

**kube-controller-manager**
- 运行各种控制器
- 包括 Node Controller、Replication Controller、Endpoints Controller 等

**cloud-controller-manager**
- 与云平台交互的控制器

#### Node 组件

**kubelet**
- 运行在每个节点上的代理
- 负责管理 Pod 生命周期
- 向 apiserver 报告节点和 Pod 状态

**kube-proxy**
- 实现 Service 的网络代理
- 维护网络规则（iptables/ipvs）
- 负责服务发现和负载均衡

**容器运行时**
- 负责运行容器（Docker、containerd、CRI-O）
- 通过 CRI 接口与 kubelet 交互